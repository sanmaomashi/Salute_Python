
# 运算符

既然我们编程的目的是为了控制计算机能够像人脑一样工作，那么人脑能做什么，就需要程序中有相应的机制去模拟。人脑无非是数学运算和逻辑运算，对于数学运算就是加减乘除。

## 一、算数运算符

计算机，顾名思义就是负责进行数学计算，并且存储计算结果的电子设备。

- 算数运算符是 运算符的一种
- 是完成基本的算术运算使用的符号，用来处理四则运算

| 运算符 |  描述  |                    实例                    |
| :----: | :----: | :----------------------------------------: |
|   +    |   加   |                10 + 20 = 30                |
|   -    |   减   |               10 - 20 = -10                |
|   *    |   乘   |               10 * 20 = 200                |
|   /    |   除   |               10 / 20 = 0.5                |
|   //   | 取整除 | 返回除法的整数部分（商） 9 // 2 输出结果 4 |
|   %    | 取余数 |          返回除法的余数 9 % 2 = 1          |
|   **   |   幂   |         又称次方、乘方，2 ** 3 = 8         |

1） 在 Python 中 * 运算符还可以用于字符串，计算结果就是字符串重复指定次数的结果

```python
"-" * 50
# 输出
'----------------------------------------' 
```

2） 数字型变量之间可以直接计算

- 在 Python 中，两个数字型变量是可以直接进行算数运算的

- 如果变量是 bool 型，在计算时

  - True 对应的数字是 1
  - False 对应的数字是 0

3) 字符串变量之间使用 + 拼接字符串

- 在 Python 中，字符串之间可以使用 + 拼接生成新的字符串

```python
first_name = "三"
last_name = "张"
first_name + last_name
```

Out: '三张'

4) 数字型变量和字符串之间不能进行其他计算 

```python
first_name = "zhang"
x = 10
x + first_name
\---------------------------------------------------------------------------
TypeError: unsupported operand type(s) **for** +: 'int' **and** 'str'
类型错误：`+` 不支持的操作类型：`int` 和 `str
```

## 二、比较（关系）运算符 

| 运算符 |                             描述                             |
| :----: | :----------------------------------------------------------: |
|   ==   | 检查两个操作数的值是否 **相等**，如果是，则条件成立，返回  True |
|   !=   | 检查两个操作数的值是否 **不相等**，如果是，则条件成立，返回 True |
|   >    | 检查左操作数的值是否 **大于** 右操作数的值，如果是，则条件成立，返回 True |
|   <    | 检查左操作数的值是否 **小于** 右操作数的值，如果是，则条件成立，返回 True |
|   >=   | 检查左操作数的值是否 **大于或等于** 右操作数的值，如果是，则条件成立，返回 True |
|   <=   | 检查左操作数的值是否 **小于或等于** 右操作数的值，如果是，则条件成立，返回 True |

> Python 2.x 中判断 **不等于** 还可以使用 `<>` 运算符
>
> `!=` 在 Python 2.x 中同样可以用来判断 **不等于**

## 三、逻辑运算符

- 在程序开发中，通常 **在判断条件时**，会需要同时判断多个条件
- 只有多个条件都满足，才能够执行后续代码，这个时候需要使用到 **逻辑运算符**
- **逻辑运算符** 可以把 **多个条件** 按照 **逻辑** 进行 **连接**，变成 **更复杂的条件**
- Python 中的 **逻辑运算符** 包括：**与 and**／**或 or**／**非 not** 三种

| 运算符 | 逻辑表达式 |                             描述                             |
| :----: | :--------: | :----------------------------------------------------------: |
|  and   |  x and y   | 只有 x 和 y 的值都为 True，才会返回 True   否则只要 x 或者 y 有一个值为 False，就返回 False |
|   or   |   x or y   | 只要 x 或者 y 有一个值为 True，就返回 True   只有 x 和 y 的值都为 False，才会返回 False |
|  not   |   not x    |   如果 x 为 True，返回 False   如果 x 为 False，返回 True    |

### 1. and

条件1 and 条件2

- 与／并且
- 两个条件同时满足，返回 True
- 只要有一个不满足，就返回 False

| 条件 1 | 条件 2 |  结果  |
| :----: | :----: | :----: |
|  成立  |  成立  |  成立  |
|  成立  | 不成立 | 不成立 |
| 不成立 |  成立  | 不成立 |
| 不成立 | 不成立 | 不成立 |

### 2. or

条件1 or 条件2

-  或 ／ 或者 
-  两个条件只要有一个满足，返回 True
-  两个条件都不满足，返回 False

| 条件 1 | 条件 2 |  结果  |
| :----: | :----: | :----: |
|  成立  |  成立  |  成立  |
|  成立  | 不成立 |  成立  |
| 不成立 |  成立  |  成立  |
| 不成立 | 不成立 | 不成立 |

### 3. not

```
not 条件
```

* **非**／**不是**

|  条件  |  结果  |
| :----: | :----: |
|  成立  | 不成立 |
| 不成立 |  成立  |

### 4. 逻辑运算演练

1. 练习1: 定义一个整数变量 `age`，编写代码判断年龄是否正确
   * 要求人的年龄在 0-120 之间
2. 练习2: 定义两个整数变量 `python_score`、`c_score`，编写代码判断成绩
   * 要求只要有一门成绩 > 60 分就算合格
3. 练习3: 定义一个布尔型变量 `is_employee`，编写代码判断是否是本公司员工
   * 如果不是提示不允许入内

答案 1：

```python
# 练习1: 定义一个整数变量 age，编写代码判断年龄是否正确
age = 100

# 要求人的年龄在 0-120 之间
if age >= 0 and age <= 120:
    print("年龄正确")
else:
    print("年龄不正确")
```

答案 2：

```python
# 练习2: 定义两个整数变量 python_score、c_score，编写代码判断成绩
python_score = 50
c_score = 50

# 要求只要有一门成绩 > 60 分就算合格
if python_score > 60 or c_score > 60:
    print("考试通过")
else:
    print("再接再厉！")
```

答案 3：

```python
# 练习3: 定义一个布尔型变量 `is_employee`，编写代码判断是否是本公司员工
is_employee = True

# 如果不是提示不允许入内
if not is_employee:
    print("非公勿内")
```

## 四、赋值运算符 

- 在 Python 中，使用 `=` 可以给变量赋值
- 在算术运算时，为了简化代码的编写，Python 还提供了一系列的 与 算术运算符对应的 赋值运算符
- 注意：**赋值运算符中间不能使用空格**

| 运算符 |          描述          |                 实例                  |
| :----: | :--------------------: | :-----------------------------------: |
|   =    |    简单的赋值运算符    | c = a + b 将 a + b 的运算结果赋值为 c |
|   +=   |     加法赋值运算符     |        c += a 等效于 c = c + a        |
|   -=   |     减法赋值运算符     |        c -= a 等效于 c = c - a        |
|   *=   |     乘法赋值运算符     |        c *= a 等效于 c = c * a        |
|   /=   |     除法赋值运算符     |        c /= a 等效于 c = c / a        |
|  //=   |    取整除赋值运算符    |       c //= a 等效于 c = c // a       |
|   %=   | 取 模 (余数)赋值运算符 |        c %= a 等效于 c = c % a        |
|  **=   |      幂赋值运算符      |    `c **= a` 等效于  `c = c ** a`     |

## 五、运算符的优先级 

- 和数学中的运算符的优先级一致，在 Python 中进行数学计算时，同样也是：
  - 先乘除后加减
  - 同级运算符是 从左至右 计算
  - 可以使用 () 调整计算的优先级

- 以下表格的算数优先级由高到最低顺序排列

|          运算符          |          描述          |
| :----------------------: | :--------------------: |
|            **            |    幂 (最高优先级)     |
|         * / % //         | 乘、除、取余数、取整除 |
|           + -            |       加法、减法       |
|        <= < > >=         |       比较运算符       |
|          == !=           |       等于运算符       |
| = %= /= //= -= += *= **= |       赋值运算符       |
|        not and or        |       逻辑运算符       |

优先级 （）> not > and > or

看看下面这两个表达式，猜猜它们的值一样吗？

- (True or False) and False

- True or False and False

答案是：不一样，它们的值分别是 `False` 和 `True`，你猜对了吗？问题的关键在于：`and` 运算符的优先级大于 `or`。因此上面的第二个表达式在 Python 看来实际上是 `True or (False and False)`。所以结果是 `True` 而不是 `False`。在编写包含多个 `and` 和 `or` 的表达式时，请额外注意 `and` 和 `or` 的运算优先级。即使执行优先级正好是你需要的那样，你也可以加上额外的括号来让代码更清晰。

## 六、身份运算符

身份运算符用于比较两个对象的内存地址是否一致 —— 是否是对同一个对象的引用

- 在 `Python` 中针对 `None` 比较时，建议使用 `is` 判断

| 运算符 | 描述                                      | 实例                            |
| :----- | :---------------------------------------- | :------------------------------ |
| is     | is 是判断两个标识符是不是引用同一个对象   | x is y，类似 id(x) == id(y)     |
| is not | is not 是判断两个标识符是不是引用不同对象 | x is not y，类似 id(a) != id(b) |

### 1. is 与 == 区别

`is` 用于判断 **两个变量 引用对象是否为同一个**
`==` 用于判断 **引用变量的值** 是否相等

```python
>>> a = [1, 2, 3]
>>> b = [1, 2, 3]
>>> b is a 
False
>>> b == a
True
```

### 2. 与 None 值的比较

`None` 在 Python 语言中是一个单例对象，如果你要判断某个变量是否为 None 时，记得使用 `is`而不是 `==`，因为只有 `is` 才能在严格意义上表示某个变量是否是 None。

否则，可能出现下面这样的情况：

```python
class Foo(object):
    def __eq__(self, other):# 魔法方法，当该类在==判断中做左值时触发
        return True


foo = Foo()
print(foo)
print(foo == None)
print(foo is None)
```

在上面代码中，Foo 这个类通过自定义 `__eq__` 魔法方法的方式，很容易就满足了 `== None` 这个条件。

所以，当你要判断某个变量是否为 None 时，请使用 `is` 而不是 `==`。

## 七、成员运算符

| 运算符 | 描述                                                    | 实例                                 |
| ------ | ------------------------------------------------------- | ------------------------------------ |
| in     | 如果在指定的序列中找到值返回 True，否则返回 False。     | 3 in [1, 2, 3] 表达式结果为True      |
| not in | 如果在指定的序列中没有找到值返回 True，否则返回 False。 | 3 not in [1, 2, 3] 表达式结果为False |

python的成员运算符用于判断一个对象是否是另一个对象的成员，成员运算符只两个：in 和 not in。成员运算符in 后面的对象必须是可迭代对象，例如列表，元组，字典，集合，字符串。

```python
>>> 'a' in 'abc'
True
>>> 1 in [1, 2, 3]
True
>>> 2 in (1, 2, 3)
True
>>> 3 in {1, 2, 3}
True
>>> 'key' in {'key': 'value'}
True
```

not in 就是对in 的一个否定判断。

